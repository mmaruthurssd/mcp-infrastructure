{
  "examples": [
    {
      "name": "goal-to-spec-handoff",
      "description": "Project Management MCP sends major goal to Spec-Driven MCP for decomposition",
      "handoff": {
        "version": "1.0.0",
        "handoffId": "550e8400-e29b-41d4-a716-446655440001",
        "timestamp": "2025-10-27T14:30:00.000Z",
        "sourceMCP": "ai-planning",
        "targetMCP": "spec-driven",
        "handoffType": "goal-to-spec",
        "context": {
          "projectPath": "/Users/user/projects/operations-workspace",
          "projectId": "project-management-mcp-v1",
          "componentId": "data-model-architecture",
          "componentName": "Data Model & Architecture",
          "majorGoalId": "001",
          "majorGoalName": "Design Hierarchical Data Model"
        },
        "payload": {
          "majorGoal": {
            "id": "001",
            "name": "Design Hierarchical Data Model",
            "description": "Create TypeScript interfaces for the 7-level hierarchy (PROJECT OVERVIEW, Component, Sub-Area, Major Goal, Sub-Goal, Task Workflow, Task)",
            "priority": "high",
            "tier": "now",
            "impact": "high",
            "effort": "medium"
          },
          "details": {
            "problem": "Need formal data structures to support hierarchical planning. Current flat structure doesn't scale beyond 20 goals.",
            "expectedValue": "Type-safe interfaces enable robust MCP integration, clear contracts, and compile-time safety across the entire system.",
            "successCriteria": [
              "All 7 hierarchical entity types defined with TypeScript interfaces",
              "Validation schemas created using Zod for runtime checking",
              "Documentation includes usage examples for each entity type",
              "Backward compatibility with v0.8.0 maintained"
            ],
            "acceptanceCriteria": [
              "Interfaces compile without errors",
              "All required fields documented",
              "Relationships between entities clearly defined"
            ],
            "technicalConstraints": [
              "Must use TypeScript 4.5+",
              "Zod validation for runtime safety",
              "File-based storage (no database)"
            ]
          },
          "dependencies": [],
          "risks": [
            {
              "id": "risk-001",
              "description": "Data model too rigid, can't evolve",
              "impact": "high",
              "probability": "medium",
              "mitigation": "Use optional fields, versioning, and migration tools"
            }
          ],
          "componentContext": {
            "componentId": "data-model-architecture",
            "componentName": "Data Model & Architecture",
            "componentPurpose": "Design and implement the hierarchical data structures that power v1.0.0",
            "subAreaId": "hierarchical-data-structures",
            "subAreaName": "Hierarchical Data Structures"
          },
          "timeframe": {
            "estimate": "1-2 weeks",
            "targetDate": "2025-11-10T00:00:00.000Z"
          },
          "targetPaths": {
            "subGoalsFolder": "/Users/user/projects/operations-workspace/project-management-mcp/02-goals-and-roadmap/components/data-model-architecture/major-goals/001-design-hierarchical-data-model/sub-goals"
          },
          "preferences": {
            "numberOfSubGoals": 3,
            "decompositionStrategy": "sequential",
            "specificationDepth": "comprehensive"
          }
        },
        "maxRetries": 3
      }
    },
    {
      "name": "spec-to-tasks-handoff",
      "description": "Spec-Driven MCP sends sub-goal to Task Executor MCP for workflow creation",
      "handoff": {
        "version": "1.0.0",
        "handoffId": "550e8400-e29b-41d4-a716-446655440002",
        "timestamp": "2025-10-27T15:00:00.000Z",
        "sourceMCP": "spec-driven",
        "targetMCP": "task-executor",
        "handoffType": "spec-to-tasks",
        "context": {
          "projectPath": "/Users/user/projects/operations-workspace",
          "projectId": "project-management-mcp-v1",
          "componentId": "data-model-architecture",
          "componentName": "Data Model & Architecture",
          "majorGoalId": "001",
          "majorGoalName": "Design Hierarchical Data Model",
          "subGoalId": "1.1"
        },
        "payload": {
          "subGoal": {
            "id": "1.1",
            "name": "Define Core Entity Interfaces",
            "description": "Create TypeScript interfaces for all 7 hierarchical entities",
            "parentGoalId": "001",
            "parentGoalName": "Design Hierarchical Data Model"
          },
          "specification": {
            "acceptanceCriteria": [
              "ProjectOverview interface with version control fields",
              "Component interface with sub-areas and major goals",
              "SubArea interface with organizational structure",
              "MajorGoal interface with decomposition support",
              "SubGoal interface with task workflow references",
              "TaskWorkflow interface with task list",
              "Task interface with status tracking"
            ],
            "technicalRequirements": [
              "Use TypeScript 4.5+ features",
              "All fields properly typed (no 'any')",
              "JSDoc comments for all interfaces",
              "Export all types from index.ts"
            ],
            "constraints": [
              "Maintain backward compatibility with v0.8.0",
              "File size < 1000 lines per file",
              "No external dependencies except built-in types"
            ],
            "deliverables": [
              "src/types/hierarchical-entities.ts (main file)",
              "src/types/index.ts (barrel exports)",
              "Documentation with usage examples"
            ]
          },
          "taskGuidance": {
            "estimatedTaskCount": 7,
            "complexity": "moderate",
            "workflowType": "feature"
          },
          "timeframe": {
            "estimate": "3-5 days",
            "urgency": "high"
          },
          "targetPaths": {
            "workflowFolder": "/Users/user/projects/operations-workspace/project-management-mcp/temp/workflows/goal-001-subgoal-1.1"
          },
          "dependencies": {
            "blockedBy": [],
            "relatedWorkflows": []
          }
        },
        "maxRetries": 3
      }
    },
    {
      "name": "task-completion-handoff",
      "description": "Task Executor MCP reports task completion to Spec-Driven MCP",
      "handoff": {
        "version": "1.0.0",
        "handoffId": "550e8400-e29b-41d4-a716-446655440003",
        "timestamp": "2025-10-27T16:30:00.000Z",
        "sourceMCP": "task-executor",
        "targetMCP": "spec-driven",
        "handoffType": "task-completion",
        "context": {
          "projectPath": "/Users/user/projects/operations-workspace",
          "projectId": "project-management-mcp-v1",
          "componentId": "data-model-architecture",
          "componentName": "Data Model & Architecture",
          "majorGoalId": "001",
          "majorGoalName": "Design Hierarchical Data Model",
          "subGoalId": "1.1",
          "workflowId": "goal-001-subgoal-1.1"
        },
        "payload": {
          "workflow": {
            "workflowId": "goal-001-subgoal-1.1",
            "workflowName": "Define Core Entity Interfaces",
            "subGoalId": "1.1",
            "majorGoalId": "001"
          },
          "completion": {
            "completedTaskId": "5",
            "allTasksComplete": false,
            "completedAt": "2025-10-27T16:30:00.000Z",
            "completedBy": "Claude Code"
          },
          "progress": {
            "tasksCompleted": 5,
            "totalTasks": 7,
            "percentage": 71,
            "currentStatus": "in-progress"
          },
          "verification": {
            "verified": true,
            "verificationMethod": "TypeScript compilation check",
            "verificationNotes": "All interfaces compile without errors. JSDoc comments added."
          },
          "deliverables": {
            "filesCreated": [
              "src/types/hierarchical-entities.ts"
            ],
            "filesModified": [
              "src/types/index.ts"
            ],
            "testsAdded": 0,
            "documentation": [
              "Added inline JSDoc comments to all interfaces"
            ]
          },
          "issues": {
            "blockers": [],
            "warnings": [
              "File size approaching 1000 line limit (currently 680 lines)"
            ],
            "technicalDebt": []
          }
        },
        "maxRetries": 3
      }
    },
    {
      "name": "subgoal-completion-handoff",
      "description": "Spec-Driven MCP reports sub-goal completion to Project Management MCP",
      "handoff": {
        "version": "1.0.0",
        "handoffId": "550e8400-e29b-41d4-a716-446655440004",
        "timestamp": "2025-10-27T18:00:00.000Z",
        "sourceMCP": "spec-driven",
        "targetMCP": "ai-planning",
        "handoffType": "subgoal-completion",
        "context": {
          "projectPath": "/Users/user/projects/operations-workspace",
          "projectId": "project-management-mcp-v1",
          "componentId": "data-model-architecture",
          "componentName": "Data Model & Architecture",
          "majorGoalId": "001",
          "majorGoalName": "Design Hierarchical Data Model",
          "subGoalId": "1.1"
        },
        "payload": {
          "subGoal": {
            "id": "1.1",
            "name": "Define Core Entity Interfaces",
            "majorGoalId": "001",
            "majorGoalName": "Design Hierarchical Data Model"
          },
          "completion": {
            "completedAt": "2025-10-27T18:00:00.000Z",
            "allCriteriaMetStatus": true,
            "totalWorkflows": 1,
            "completedWorkflows": 1
          },
          "majorGoalProgress": {
            "subGoalsCompleted": 1,
            "totalSubGoals": 3,
            "percentage": 33,
            "suggestedStatus": "in-progress"
          },
          "outcomes": {
            "deliverables": [
              "src/types/hierarchical-entities.ts (680 lines, 7 entity types)",
              "src/types/index.ts (barrel exports)",
              "Inline JSDoc documentation for all interfaces"
            ],
            "successCriteriaMet": [
              "All 7 hierarchical entity types defined",
              "TypeScript interfaces compile without errors",
              "All required fields documented with JSDoc"
            ],
            "learnings": [
              "Optional fields provide flexibility for evolution",
              "Keeping file under 1000 lines requires careful organization",
              "Version-aware documents need special handling in interfaces"
            ]
          },
          "quality": {
            "testsAdded": 0,
            "testsPassing": 0,
            "codeReviewStatus": "approved",
            "documentationComplete": true
          }
        },
        "maxRetries": 3
      }
    },
    {
      "name": "progress-update-handoff",
      "description": "General progress update bubbling up from task to component level",
      "handoff": {
        "version": "1.0.0",
        "handoffId": "550e8400-e29b-41d4-a716-446655440005",
        "timestamp": "2025-10-27T16:35:00.000Z",
        "sourceMCP": "task-executor",
        "targetMCP": "ai-planning",
        "handoffType": "progress-update",
        "context": {
          "projectPath": "/Users/user/projects/operations-workspace",
          "projectId": "project-management-mcp-v1",
          "componentId": "data-model-architecture",
          "componentName": "Data Model & Architecture",
          "majorGoalId": "001",
          "majorGoalName": "Design Hierarchical Data Model"
        },
        "payload": {
          "entity": {
            "type": "major-goal",
            "id": "001",
            "name": "Design Hierarchical Data Model"
          },
          "progress": {
            "percentage": 33,
            "status": "in-progress",
            "lastUpdated": "2025-10-27T16:35:00.000Z",
            "completedItems": 1,
            "totalItems": 3,
            "breakdown": {
              "1.1": {
                "name": "Define Core Entity Interfaces",
                "progress": 100,
                "status": "completed"
              },
              "1.2": {
                "name": "Design Relationship Models",
                "progress": 50,
                "status": "in-progress"
              },
              "1.3": {
                "name": "Create Validation Schemas",
                "progress": 0,
                "status": "not-started"
              }
            }
          },
          "trigger": {
            "event": "workflow-completed",
            "triggeredBy": "task-executor",
            "relatedEntityId": "1.1"
          },
          "propagation": {
            "shouldBubbleUp": true,
            "parentEntityType": "component",
            "parentEntityId": "data-model-architecture"
          }
        },
        "maxRetries": 3
      }
    }
  ],
  "responses": [
    {
      "name": "success-response-example",
      "description": "Successful handoff processing with created entities",
      "response": {
        "handoffId": "550e8400-e29b-41d4-a716-446655440001",
        "receivedAt": "2025-10-27T14:30:02.000Z",
        "success": true,
        "status": "completed",
        "result": {
          "created": [
            {
              "entityType": "sub-goal",
              "entityId": "1.1",
              "filePath": "sub-goals/1.1/SPECIFICATION.md"
            },
            {
              "entityType": "sub-goal",
              "entityId": "1.2",
              "filePath": "sub-goals/1.2/SPECIFICATION.md"
            },
            {
              "entityType": "sub-goal",
              "entityId": "1.3",
              "filePath": "sub-goals/1.3/SPECIFICATION.md"
            }
          ],
          "updated": [
            {
              "entityType": "major-goal",
              "entityId": "001",
              "changes": ["subGoals array populated", "status changed to 'planning'"]
            }
          ],
          "nextSteps": [
            {
              "description": "Review generated sub-goal specifications for completeness",
              "suggestedAction": "Validate acceptance criteria with stakeholders before proceeding"
            },
            {
              "description": "Create task workflows for each sub-goal",
              "nextHandoffType": "spec-to-tasks"
            }
          ],
          "metadata": {
            "subGoalsCreated": 3,
            "decompositionStrategy": "sequential",
            "estimatedEffort": "1-2 weeks total"
          }
        },
        "processedBy": "spec-driven",
        "processingTime": 4523
      }
    },
    {
      "name": "error-response-example",
      "description": "Failed handoff with recoverable error",
      "response": {
        "handoffId": "550e8400-e29b-41d4-a716-446655440002",
        "receivedAt": "2025-10-27T15:00:01.000Z",
        "success": false,
        "status": "failed",
        "error": {
          "code": "FILE_WRITE_ERROR",
          "message": "Failed to create specification file: Permission denied",
          "details": "EACCES: permission denied, open 'sub-goals/1.1/SPECIFICATION.md'",
          "recoverable": true,
          "suggestedFix": "Check file system permissions for project directory. Ensure write access to sub-goals folder."
        },
        "processedBy": "spec-driven",
        "processingTime": 245
      }
    },
    {
      "name": "validation-error-response",
      "description": "Handoff rejected due to validation failure",
      "response": {
        "handoffId": "550e8400-e29b-41d4-a716-446655440003",
        "receivedAt": "2025-10-27T16:00:01.000Z",
        "success": false,
        "status": "rejected",
        "error": {
          "code": "VALIDATION_FAILED",
          "message": "Handoff payload validation failed",
          "details": "payload.majorGoal.priority: Invalid enum value. Expected 'high' | 'medium' | 'low', received 'critical'",
          "recoverable": false,
          "suggestedFix": "Correct the payload to match the schema. Priority must be one of: high, medium, low."
        },
        "processedBy": "spec-driven",
        "processingTime": 12
      }
    }
  ],
  "metadata": {
    "version": "1.0.0",
    "generatedAt": "2025-10-27T19:00:00.000Z",
    "description": "Example handoff payloads and responses for MCP Handoff Protocol v1.0.0",
    "totalExamples": 5,
    "totalResponses": 3
  }
}
