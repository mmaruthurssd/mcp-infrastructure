{
  "step": "planning",
  "scenario": "new-project",
  "questions": [
    {
      "id": "technical_approach",
      "type": "text",
      "question": "What is your high-level technical approach?",
      "hint": "How will you implement this feature technically? Architecture pattern?",
      "required": true,
      "variable": "TECHNICAL_APPROACH"
    },
    {
      "id": "specific_technologies",
      "type": "text",
      "question": "What specific technologies, libraries, or frameworks will you use?",
      "hint": "e.g., 'React + TypeScript', 'Apps Script with Clasp', 'Python + FastAPI'",
      "required": true,
      "variable": "SPECIFIC_TECHNOLOGIES"
    },
    {
      "id": "architecture_pattern",
      "type": "single_select",
      "question": "What architectural pattern best describes this implementation?",
      "options": [
        {"value": "monolithic", "label": "Monolithic (all-in-one)"},
        {"value": "layered", "label": "Layered (UI, Business Logic, Data)"},
        {"value": "microservices", "label": "Microservices"},
        {"value": "serverless", "label": "Serverless Functions"},
        {"value": "script", "label": "Simple Script/Automation"},
        {"value": "other", "label": "Other"}
      ],
      "required": true,
      "variable": "ARCHITECTURE_PATTERN"
    },
    {
      "id": "data_storage",
      "type": "text",
      "question": "How and where will data be stored?",
      "hint": "Database type, Google Sheets, file system, cloud storage, etc.",
      "required": true,
      "variable": "DATA_STORAGE"
    },
    {
      "id": "api_contracts_needed",
      "type": "boolean",
      "question": "Does this feature require API contracts or service interfaces?",
      "hint": "REST APIs, GraphQL, internal service contracts, etc.",
      "default": false,
      "required": true,
      "variable": "API_CONTRACTS_NEEDED"
    },
    {
      "id": "implementation_phases",
      "type": "number",
      "question": "How many implementation phases do you envision?",
      "hint": "Each phase should deliver usable functionality. Typically 2-5 phases.",
      "default": 3,
      "min": 1,
      "max": 10,
      "required": true,
      "variable": "IMPLEMENTATION_PHASES"
    },
    {
      "id": "testing_tools",
      "type": "text",
      "question": "What testing tools and frameworks will you use?",
      "hint": "e.g., 'Jest', 'Pytest', 'Google Apps Script testing', 'Manual testing only'",
      "required": true,
      "variable": "TESTING_TOOLS"
    },
    {
      "id": "deployment_process",
      "type": "text",
      "question": "Describe the deployment process",
      "hint": "Manual deployment, CI/CD pipeline, clasp push, etc.",
      "required": true,
      "variable": "DEPLOYMENT_PROCESS"
    },
    {
      "id": "monitoring_approach",
      "type": "text",
      "question": "How will you monitor this feature in production?",
      "hint": "Logging, metrics, alerting, error tracking, or 'No monitoring needed'",
      "required": false,
      "variable": "MONITORING_APPROACH"
    },
    {
      "id": "rollback_strategy",
      "type": "text",
      "question": "What is your rollback strategy if deployment fails?",
      "hint": "Version control, backups, previous version restore, etc.",
      "required": false,
      "variable": "ROLLBACK_STRATEGY"
    },
    {
      "id": "key_risks",
      "type": "text",
      "question": "What are the key technical risks for this implementation?",
      "hint": "Performance bottlenecks, integration challenges, data migration, etc.",
      "required": false,
      "variable": "KEY_RISKS"
    },
    {
      "id": "estimated_effort",
      "type": "text",
      "question": "What is the estimated implementation effort?",
      "hint": "e.g., '2 weeks', '40 hours', '1 sprint', etc.",
      "required": false,
      "variable": "ESTIMATED_EFFORT"
    }
  ],
  "follow_up_questions": {
    "phases": {
      "question_template": "Describe implementation phase {{number}}:",
      "fields": [
        {
          "id": "phase_name",
          "question": "Phase name:",
          "required": true
        },
        {
          "id": "phase_goal",
          "question": "What is the goal of this phase?",
          "required": true
        },
        {
          "id": "deliverables",
          "question": "What will be delivered? (separate with semicolons)",
          "required": true
        },
        {
          "id": "validation",
          "question": "How will you validate this phase? (separate with semicolons)",
          "required": true
        }
      ]
    },
    "api_contracts": {
      "condition": {"field": "api_contracts_needed", "equals": true},
      "fields": [
        {
          "id": "api_type",
          "question": "What type of API/contract?",
          "hint": "REST, GraphQL, gRPC, internal service interface, etc.",
          "required": true
        },
        {
          "id": "endpoints_count",
          "question": "How many endpoints/methods?",
          "required": true
        }
      ]
    }
  }
}
